(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7549],{71322:function(e,t,r){Promise.resolve().then(r.bind(r,35233)),Promise.resolve().then(r.bind(r,33459)),Promise.resolve().then(r.bind(r,14394)),Promise.resolve().then(r.bind(r,35282)),Promise.resolve().then(r.bind(r,48916)),Promise.resolve().then(r.bind(r,79518)),Promise.resolve().then(r.bind(r,66381)),Promise.resolve().then(r.bind(r,2088)),Promise.resolve().then(r.bind(r,5122)),Promise.resolve().then(r.bind(r,77930)),Promise.resolve().then(r.bind(r,4272)),Promise.resolve().then(r.bind(r,31123)),Promise.resolve().then(r.bind(r,43193)),Promise.resolve().then(r.bind(r,15969)),Promise.resolve().then(r.bind(r,49809)),Promise.resolve().then(r.bind(r,39155)),Promise.resolve().then(r.bind(r,5068)),Promise.resolve().then(r.bind(r,45446)),Promise.resolve().then(r.bind(r,13729)),Promise.resolve().then(r.bind(r,5713))},56087:function(e,t,r){"use strict";r.d(t,{y:function(){return s}});var n=r(15969),o=r(96187);let a=async(e,t)=>{let{eventSlug:r,source:n,medium:a,campaign:s,term:i,content:l,utmId:c,referralId:u,...d}=e||{},m=Object.fromEntries(Object.entries({utm_source:n,utm_medium:a,utm_campaign:s,utm_term:i,utm_content:l,utm_id:c,referralId:u}).filter(e=>{let[,t]=e;return t}));return await (0,o._)("/public/event/".concat(r,"/register"),{method:"POST",body:JSON.stringify({...d,...m}),...t})},s=e=>(0,n.useMutation)({mutationKey:["RegisterOnEvent"],mutationFn:e=>a(e),...e});s.fetcher=(e,t)=>a(e,t)},98630:function(e,t,r){"use strict";r.d(t,{D:function(){return u}});var n=r(5068),o=r(73131),a=r(1370),s=r(96187),i=r(2245);let l="GetAccount";async function c(e){let t=await (0,i.A)();if(t)return await (0,s._)("/account",{...e,next:{revalidate:1*o.kj.Day,tags:[a.c.ACCOUNT,"".concat(a.c.ACCOUNT,":").concat(t)]}})}let u=e=>(0,n.useQuery)({queryKey:[l],queryFn:()=>c(),...e});u.queryKey=l,u.getKey=()=>[l],u.fetcher=e=>c(e)},35233:function(e,t,r){"use strict";r.d(t,{FloatingDialogs:function(){return i}});var n=r(27573),o=r(23131),a=r(23299),s=r(64986);let i=e=>{let{slug:t}=e,{isNewUser:r}=(0,o.a)();return(0,n.jsx)(a.f,{children:(0,n.jsx)(s.q,{identifier:"journey",title:r?"Conhe\xe7a a p\xe1gina de forma\xe7\xe3o":"Veja o que mudou na jornada",description:r?"Explore a p\xe1gina que ir\xe1 te guiar nos seus estudos na plataforma":"Explore a p\xe1gina e entenda o que muda na sua experi\xeancia de estudos",to:"/journey/tour?redirect=/journey/".concat(t)})})}},33459:function(e,t,r){"use strict";r.d(t,{FullstackSubscriptionBanner:function(){return T}});var n=r(27573),o=r(7653),a=r(5512),s=r(91204),i=r(50294),l=r(73131),c=r(23131),u=r(70682),d=r(92288),m=r(48916);r(39068);var h=r(31813),f=r(81695),g=r(93351),x=r(36176),p=r(44810),v=r(56087),b=r(25602);let y=p.Ry({name:p.Z_().min(5,"Preencha seu nome completo").required("Nome \xe9 obrigat\xf3rio"),email:p.Z_().email("Email inv\xe1lido").required("Email \xe9 obrigat\xf3rio"),phone:p.Z_().test("phone","Telefone inv\xe1lido",e=>{var t;let r=e?null===(t=(0,x.SR)(e))||void 0===t?void 0:t.number:null;return!r||(0,x.tm)(r)}).required("Telefone \xe9 obrigat\xf3rio"),terms:p.O7().oneOf([!0],"Voc\xea deve aceitar os termos e condi\xe7\xf5es para continuar").required()}).required(),w="Garantir ingresso gratuito",j=e=>{var t,r,s,c;let{name:u,email:d,phone:p,open:j,onOpenChange:k}=e,N=(0,f.useSearchParams)(),{journey:T,track:E}=(0,m.c)(),{mutateAsync:_}=(0,v.y)(),{register:C,setValue:S,handleSubmit:R,formState:{errors:P,isSubmitting:A}}=(0,g.cI)({resolver:(0,h.X)(y)}),O=(0,o.useMemo)(()=>{if(p){var e;return p.startsWith("+")?p:null===(e=(0,x.SR)("+55".concat(p)))||void 0===e?void 0:e.number}},[p]),L=null==N?void 0:N.get("utm_source"),B=null==N?void 0:N.get("utm_medium"),D=null==N?void 0:N.get("utm_campaign"),J=null==N?void 0:N.get("utm_id"),M=null==N?void 0:N.get("utm_term"),G=null==N?void 0:N.get("utm_content"),z=null==N?void 0:N.get("referral_id"),I=(0,o.useMemo)(()=>({source:L||"platform",medium:B||"organic",campaign:D||"lead",term:M||"jornada",content:G||"trilha_fullstack-lp_inscricao",utmId:J||void 0,referralId:z||void 0}),[z,D,G,J,B,L,M]),q=(0,o.useCallback)(async e=>{try{var t;let{name:r,email:n,phone:o}=e,a=String(null===(t=(0,x.SR)(o))||void 0===t?void 0:t.number)||"",s=await _({name:r,email:n,phone:a,eventSlug:l.fJ,trail:l.fJ,pageUri:window.location.href,...I});E("[FullStack] Modal click",{ButtonLabel:w,ContentName:null==T?void 0:T.title,ContentType:l.bT[T.contentType]});let i="".concat("https://www.rocketseat.com.br/eventos/do-zero-a-programacao/obrigado","/").concat(s.referralId,"?").concat("utm_source=platform&utm_medium=organic&utm_campaign=lead&utm_term=jornada&utm_content=trilha_fullstack-lp_inscricao");window.open(i,"_blank"),window.location.reload()}catch(e){a.toast.danger({title:"Ingresso",description:"Erro ao registrar o ingresso, por favor tente novamente"})}},[T.contentType,null==T?void 0:T.title,_,E,I]);return(0,o.useEffect)(()=>{S("name",u),S("email",d),S("phone",O||""),S("terms",!1)},[d,u,O]),(0,n.jsx)(a.Modal,{open:j,onOpenChange:k,children:(0,n.jsxs)(a.Modal.Portal,{children:[(0,n.jsx)(a.Modal.Overlay,{}),(0,n.jsxs)(a.Modal.Content,{className:"flex flex-col justify-between h-full max-h-full bg-gray-800 w-full max-w-[29.75rem] md:h-fit md:max-h-[90vh]",children:[(0,n.jsx)(a.Modal.Header,{title:"Participe gratuitamente",onClose:()=>k&&k(!1),size:"sm"}),(0,n.jsxs)("form",{onSubmit:R(q),className:"flex flex-col gap-6 px-6 py-7 h-full overflow-y-auto md:px-8",children:[(0,n.jsxs)("div",{className:"flex flex-1 flex-col gap-6 h-full",children:[(0,n.jsxs)("p",{className:"text-gray-200",children:["O evento acontecer\xe1 nos dias ",(0,n.jsx)("strong",{children:"13, 17"})," e"," ",(0,n.jsx)("strong",{children:"19"})," de ",(0,n.jsx)("strong",{children:"junho"}),", \xe0s"," ",(0,n.jsx)("strong",{children:"19h"}),", na ",(0,n.jsx)("strong",{children:"plataforma"})," da"," ",(0,n.jsx)("strong",{children:"Rocketseat"}),"!"]}),(0,n.jsx)(b.g,{label:"Nome",errorMessage:null==P?void 0:null===(t=P.name)||void 0===t?void 0:t.message,children:(0,n.jsx)(a.TextField,{...C("name"),placeholder:"Digite seu nome completo",className:"border-gray-900",disabled:A})}),(0,n.jsx)(b.g,{label:"Email",errorMessage:null==P?void 0:null===(r=P.email)||void 0===r?void 0:r.message,children:(0,n.jsx)(a.TextField,{...C("email"),placeholder:"Digite seu email",className:"border-gray-900",disabled:A})}),(0,n.jsx)(b.g,{label:"Telefone",errorMessage:null==P?void 0:null===(s=P.phone)||void 0===s?void 0:s.message,children:(0,n.jsx)(x.ZP,{international:!0,value:O,...C("phone"),defaultCountry:"BR",limitMaxLength:!0,disabled:A,placeholder:"Digite seu n\xfamero de Whatsapp",onChange:()=>{},className:"h-12 rounded-sm bg-gray-900 w-full border border-gray-900 px-4 [&_*]:placeholder-gray-400 [&_*]:bg-transparent focus:[&_*]:outline-none [&_option]:bg-gray-900 [&_option]:text-gray-100 outline-none transition-colors focus:border-purpleseat-light hover:border-purpleseat-light placeholder:text-gray-400 text-gray-100"})}),(0,n.jsx)(b.g,{errorMessage:null==P?void 0:null===(c=P.terms)||void 0===c?void 0:c.message,children:(0,n.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,n.jsx)(a.Checkbox,{...C("terms"),onCheckedChange:e=>S("terms",!!e),disabled:A}),(0,n.jsxs)("p",{className:"text-gray-300 text-xs",children:["Autorizo o envio de comunica\xe7\xf5es por e-mail ou qualquer outro meio e concordo com os"," ",(0,n.jsx)("a",{className:"underline",href:"https://www.rocketseat.com.br/terms",rel:"noopener noreferrer",target:"_blank",children:"Termos"})," e ",(0,n.jsx)("a",{className:"underline",href:"https://www.rocketseat.com.br/privacy?",rel:"noopener noreferrer",target:"_blank",children:"Pol\xedticas de privacidade."})]})]})}),(0,n.jsx)(a.Button,{type:"submit",loading:A,disabled:A,className:"mt-6",children:w})]}),(0,n.jsx)(a.Divider,{orientation:"horizontal",className:"w-full"}),(0,n.jsxs)("div",{className:"flex gap-2 w-full items-center justify-center",children:[(0,n.jsx)(i.default,{src:"/assets/icons/journey/color-shield-check.svg",width:24,height:24,alt:""}),(0,n.jsxs)("p",{className:"text-gray-100",children:["Seus dados est\xe3o"," ",(0,n.jsx)("span",{className:"text-success-light",children:"100% seguros"})]})]})]})]})]})})},k="Garantir ingresso gratuito",N="Visualizar ingresso",T=()=>{var e;let[t,r]=(0,o.useState)(!1),{journey:h,track:f}=(0,m.c)(),{isMobile:g}=(0,d.F)(),{user:x}=(0,c.a)(),{name:p,email:v,phone:b}=x||{},y=(0,u.u)(16),w=(0,s.Z)(new Date,l.He),T=null==x?void 0:null===(e=x.events)||void 0===e?void 0:e.find(e=>e.slug===l.fJ),E=T?"".concat("https://www.rocketseat.com.br/eventos/do-zero-a-programacao/inscricao","/").concat(T.referralId):"",_=(0,o.useCallback)(()=>{r(e=>!e)},[]),C=(0,o.useCallback)((e,t)=>{f("[FullStack] Banner click",{ButtonLabel:e,ContentName:null==h?void 0:h.title,ContentType:l.bT[h.contentType]}),t||_()},[_,h.contentType,null==h?void 0:h.title,f]);return w?null:(0,n.jsxs)("div",{className:"flex flex-col justify-center w-full bg-gray-950 rounded-md bg-[url(/assets/journey/backgrounds/fullstack-subscription-bg.png)] bg-no-repeat bg-cover bg-center",children:[(0,n.jsxs)("div",{className:"flex w-full overflow-hidden bg-purpleseat-light py-1",children:[(0,n.jsx)("div",{className:"flex w-full whitespace-nowrap animate-infinite-horizontal-scroll",children:y.map(e=>(0,n.jsxs)("span",{className:"flex uppercase text-gray-900 text-xs font-extrabold",children:["Evento online ・ 13, 17 e 19 de junho as 19h ・"," "]},"text-".concat(e)))}),(0,n.jsx)("div",{className:"flex w-full whitespace-nowrap overflow-hidden animate-infinite-horizontal-scroll","aria-hidden":"true",children:y.map(e=>(0,n.jsxs)("span",{className:"flex uppercase text-gray-900 text-xs font-extrabold",children:["Evento online ・ 13, 17 e 19 de junho as 19h ・"," "]},"text-".concat(e)))})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-5 items-center text-center justify-between w-full px-9 py-5 lg:flex-row",children:[(0,n.jsx)(i.default,{src:"/assets/logos/zero-a-programacao.svg",width:212,height:42,alt:"Jornada do zero a programa\xe7\xe3o",className:"hidden lg:flex"}),(0,n.jsxs)("div",{className:"max-w-[47.938rem]",children:[(0,n.jsxs)("h2",{className:"text-lg text-white font-extrabold lg:text-xl",children:["Vem a\xed a nova forma\xe7\xe3o"," ",(0,n.jsx)("strong",{className:"text-purpleseat-light",children:"FullStack"})," da Rocketseat"]}),(0,n.jsx)("p",{className:"text-xs text-white max-w-[30rem] lg:text-md",children:"Descubra como come\xe7ar sua carreira em programa\xe7\xe3o e acessar um mercado com alta demanda, vagas remotas e sal\xe1rios atrativos"})]}),E?(0,n.jsx)("a",{href:E,target:"_blank",rel:"noopener noreferrer",children:(0,n.jsx)(a.Button,{onClick:()=>C(N,!!E),size:g?"sm":"md",className:"w-fit h-fit",children:x?N:(0,n.jsx)(a.Skeleton,{className:"w-40 h-4 bg-purpleseat-low"})})}):(0,n.jsx)(a.Button,{onClick:()=>C(k,!!E),size:g?"sm":"md",className:"w-fit h-fit",children:x?k:(0,n.jsx)(a.Skeleton,{className:"w-40 h-4 bg-purpleseat-low"})})]}),(0,n.jsx)(j,{email:v||"",name:p||"",phone:b,open:t,onOpenChange:r})]})}},35282:function(e,t,r){"use strict";r.d(t,{SubjectHeader:function(){return f}});var n=r(27573),o=r(48916),a=r(79518),s=r(5512),i=r(50294),l=r(88146),c=r(81695);let u=()=>{let e=(0,c.useRouter)(),{journey:t}=(0,o.c)(),r=null==t?void 0:t.parentJourney;if(!r)return null;let a="/journey/".concat(r.slug,"/subjects");return(0,n.jsxs)(s.Breadcrumb,{onBack:()=>e.push(a),children:[(0,n.jsx)(s.Breadcrumb.Item,{children:(0,n.jsxs)(l.default,{href:a,children:[(null==r?void 0:r.iconUrl)&&(0,n.jsx)(i.default,{src:r.iconUrl,alt:r.title,width:40,height:40,quality:100,className:"shrink-0 max-md:size-6"}),(0,n.jsx)(s.Breadcrumb.Title,{children:r.title})]})}),(0,n.jsx)(s.Breadcrumb.Separator,{}),(0,n.jsx)(s.Breadcrumb.Item,{current:!0,children:(0,n.jsx)(s.Breadcrumb.Title,{children:t.title})})]})};var d=r(65471);let m={NOT_STARTED:"info",IN_PROGRESS:"custom",APPROVED:"success",IN_RECOVERY:"warning",REPROVED:"danger"},h=e=>{var t;let{value:r}=e;return r?(0,n.jsx)(s.Badge,{variant:"secondary",size:"sm",status:null!==(t=null==m?void 0:m[r])&&void 0!==t?t:"info",className:"whitespace-nowrap",children:null===d.RD||void 0===d.RD?void 0:d.RD[r]}):null},f=()=>{let{journey:e}=(0,o.c)(),{subjectScore:t}=(0,a.B)();return(0,n.jsx)("div",{className:"flex px-4 lg:px-6 w-full",children:(0,n.jsx)("div",{className:"flex mx-auto w-full max-w-7xl",children:(0,n.jsxs)("div",{className:"flex flex-col flex-1 items-start gap-1 justify-between w-full lg:max-w-[calc(100%_-_384px_-56px)] md:pb-8 md:pt-12 md:mb-0 pb-6 pt-8 mb-4 border-b border-gray-800 relative",children:[(0,n.jsxs)("div",{className:"w-full space-y-3 md:space-y-4",children:[(0,n.jsx)(u,{}),(0,n.jsxs)("div",{className:"flex items-center gap-4 self-stretch w-full max-md:justify-between",children:[(0,n.jsx)("h1",{className:"text-gray-100 text-xl md:text-4xl font-bold md:leading-[140%] line-clamp-1",title:e.title,children:e.title}),(null==t?void 0:t.status)&&(0,n.jsx)(h,{value:t.status})]})]}),e.description&&(0,n.jsx)("p",{className:"text-gray-300 text-sm",children:e.description})]})})})}},93991:function(e,t,r){"use strict";r.d(t,{W:function(){return i}});var n=r(5068),o=r(96187),a=r(33394);async function s(e,t){let{slug:r}=e,n=await (0,o._)("/journey/".concat(r,"/score-breakdown"),t);return(0,a.s)(n)}let i=(e,t)=>(0,n.useQuery)({queryKey:["GetSubjectScoreBySlug",e],queryFn:()=>s(e),...t});i.getKey=e=>["GetSubjectScoreBySlug",e],i.fetcher=(e,t)=>s(e,t)},79518:function(e,t,r){"use strict";r.d(t,{B:function(){return c},SubjectScoreProvider:function(){return l}});var n=r(27573),o=r(7653),a=r(81695),s=r(93991);let i=(0,o.createContext)({}),l=e=>{let{journey:t,children:r}=e,o=(0,a.usePathname)(),{data:l,isLoading:c}=(0,s.W)({slug:t.slug},{enabled:!!(null==t?void 0:t.parentJourney)&&(null==o?void 0:o.includes("contents"))});return(0,n.jsx)(i.Provider,{value:{subjectScore:l,isLoading:c},children:r})};function c(){let e=(0,o.useContext)(i);if(!e)throw Error("useSubjectScore must be used within an SubjectScoreContext");return e}},25602:function(e,t,r){"use strict";r.d(t,{g:function(){return a}});var n=r(27573),o=r(64933);let a=e=>{let{label:t,errorMessage:r,isMandatory:a,className:s,children:i,...l}=e;return(0,n.jsxs)("div",{className:(0,o.cn)("flex flex-col gap-2 self-stretch",s),...l,children:[!!t&&(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-gray-200 text-sm",children:t})," ",a&&(0,n.jsx)("span",{className:"text-[#F75A68]",children:"*"})]}),i,!!r&&(0,n.jsx)("span",{className:"text-sm text-danger-light",children:r})]})}},23299:function(e,t,r){"use strict";r.d(t,{f:function(){return a}});var n=r(27573);let o=(0,r(97650).tv)({base:"flex flex-col items-end gap-2 fixed z-50",variants:{position:{bottomRight:"bottom-3 right-3",bottomLeft:"bottom-3 left-3",topRight:"top-3 right-3",topLeft:"top-3 left-3"}},defaultVariants:{position:"bottomRight"}}),a=e=>{let{children:t,position:r,className:a,...s}=e;return(0,n.jsx)("div",{className:o({position:r,className:a}),...s,children:t})}},66381:function(e,t,r){"use strict";r.d(t,{ReverseTrialModal:function(){return d}});var n=r(27573),o=r(7653),a=r(64070),s=r(5068),i=r(96187);let l=async e=>{try{let t=await (0,i._)("/user/experiments/reverse-trial",e);return{isEligible:t.is_eligible,group:t.group}}catch(e){return{isEligible:!1}}},c=e=>(0,s.useQuery)({queryKey:["GetUserElegibilityToReserveTrial"],queryFn:()=>l(),...e});c.getKey=()=>["GetUserElegibilityToReserveTrial"],c.fetcher=e=>l(e);let u=(0,a.default)(()=>r.e(2990).then(r.bind(r,32990)).then(e=>e.ReverseTrialModalContent),{loadableGenerated:{webpack:()=>[32990]},ssr:!1});function d(){let{data:e}=c(),[t,r]=(0,o.useState)(!1),a=null==e?void 0:e.isEligible,s=null==e?void 0:e.group,i=a&&"A"===s;return(0,o.useEffect)(()=>{i&&r(!0)},[i]),t?(0,n.jsx)(o.Suspense,{children:(0,n.jsx)(u,{handleCloseModal:function(){r(!1)}})}):null}},64986:function(e,t,r){"use strict";r.d(t,{q:function(){return m}});var n=r(27573),o=r(7653),a=r(83980),s=r(5512),i=r(88146),l=r(64825),c=r(23131),u=r(51710);let d={catalog:"isOnboardedOnCatalog",classroom:"isOnboardedOnClassroom",journey:"isOnboardedOnJourney",navigation:"isOnboardedOnNavigation","my-journey":"isOnboardedOnMyJourney","events-classroom":"isOnboardedOnEventsClassroom"},m=(0,o.forwardRef)((e,t)=>{let{title:r,description:m,identifier:h,to:f}=e,{user:g,isRecoveringUserSession:x,isAuthenticated:p}=(0,c.a)(),{user:v,isRecoveringUserSession:b,isAuthenticated:y}=(0,u.e)(),w=null!=g?g:v,[j,k]=(0,o.useState)(!0),[N,T]=(0,l._)("@Skylab/".concat(h,"TourTriggerViewed"),0),E=d[h],_=null!=w&&!!w.onboardingPlatform&&E in w.onboardingPlatform&&!!w.onboardingPlatform[E],C=(0,o.useCallback)(()=>{k(!1)},[]);if((0,o.useEffect)(()=>{T(e=>Math.min(e+1,2))},[T]),!((null!=x?x:b)||_||!(null!=p?p:y)||!j||Number(N)>1))return(0,n.jsxs)("div",{className:"w-[calc(100vw-40px)] max-w-[328px] flex flex-col items-center gap-6 p-5 pt-6 rounded-md shadow-base bg-gray-800 border border-gray-600 relative",ref:t,children:[(0,n.jsx)(s.IconButton,{variant:"tertiary",className:"absolute top-2 right-2",onClick:C,children:(0,n.jsx)(a.CloseIcon,{size:16})}),(0,n.jsx)(a.BulbIcon,{size:32,className:"text-new-light"}),(0,n.jsxs)("div",{className:"flex flex-col gap-2 text-center",children:[(0,n.jsx)("h4",{className:"text-md font-bold text-gray-100",children:r}),(0,n.jsx)("p",{className:"text-sm text-gray-200",children:m})]}),(0,n.jsx)(i.default,{href:f,prefetch:!1,className:"w-full",children:(0,n.jsx)(s.Button,{variant:"secondary",size:"md",className:"w-full",onClick:C,children:"Fazer tour"})})]})});m.displayName="TourTrigger"},92288:function(e,t,r){"use strict";r.d(t,{F:function(){return o}});var n=r(64825);let o=()=>{let e=(0,n.ac)("(max-width: 767px)");return{isMobile:e,isTablet:(0,n.ac)("(min-width: 768px)"),isLaptop:(0,n.ac)("(min-width: 1024px)"),isDesktop:(0,n.ac)("(min-width: 1280px)")}}},393:function(e,t,r){"use strict";r.d(t,{h:function(){return s}});var n=r(97210),o=r(70261),a=r(73131);async function s(){return{accessToken:(0,o.parseCookies)()[a.LJ.Token],refreshToken:(0,o.parseCookies)()[a.LJ.RefreshToken]}}r(40395),(0,n.Z)(new Date,1)},96187:function(e,t,r){"use strict";r.d(t,{T:function(){return a},_:function(){return l}});var n=r(393);let o=async e=>{let t=new Headers(e.headers);if(e.body instanceof FormData||t.set("Content-Type","application/json"),!t.get("Authorization")&&!e.isPublic){let{accessToken:e}=await (0,n.h)();e&&t.set("Authorization","Bearer ".concat(e))}return{...e,headers:t}};class a extends Error{constructor(e,t,r){super(e),this.message=e,this.config=t,this.response=r,this.name="FetcherError",this.status=null==r?void 0:r.status,this.isFetcherError=!0}}let s=async e=>{let t=e.headers.get("Content-Type"),r=(null==t?void 0:t.includes("text/"))?"text":"json";return i(await e[r]())},i=e=>{var t;return"string"==typeof e?e:e.errors&&e.errors.length>0?e.errors[0]:Array.isArray(e)&&e.length>0?e[0]:e.error&&"string"==typeof e.error?e.error:null===(t=e.error)||void 0===t?void 0:t.message},l=async(e,t)=>{let{responseType:r="json",...n}=t||{},i=e.startsWith("http")?e:"".concat("https://skylab-api.rocketseat.com.br").concat(e),l=await o(n),c={};try{if(c=await fetch(i,l),204===c.status)return null;if(!c.ok){let e=await s(c);throw new a(e||"An unexpected error occurred")}return c[r]()}catch(e){return Promise.reject(new a(e instanceof Error?e.message:String(e),t,c))}}},2245:function(e,t,r){"use strict";r.d(t,{A:function(){return a}});var n=r(30864),o=r(393);let a=async e=>{let t=e;if(!t){let{accessToken:e}=await (0,o.h)();t=e}let r=(0,n.decode)(t);return null==r?void 0:r.uid}},33394:function(e,t,r){"use strict";r.d(t,{s:function(){return o}});var n=r(7755);function o(e,t){return(0,n.Z)(e,{deep:!0,...t})}},1370:function(e,t,r){"use strict";var n,o;r.d(t,{c:function(){return n}}),(o=n||(n={})).ACCOUNT="account",o.ACCOUNT_EVENT="accountEvent",o.GET_EVENT_BY_SLUG="getEventBySlug",o.GET_RECOMMENDATIONS="getRecommendations",o.GET_STARTED_CONTENT="getStartedContent",o.ONBOARDING="onboarding",o.GET_STARTED_CONTENT_PROGRESS="getStartedContentProgress",o.GET_WEEK_GOAL="getHomeWeekGoal",o.GET_USER_GOAL="getUserGoal",o.GET_BANNERS="getBanners",o.GET_HAPPENING_AND_COMMING_EVENTS="getHappeningAndCommingEvents",o.GET_REWARDS="getRewards",o.GET_USER_POINTS="getUserPoints",o.GET_REDEEMS="getRedeems"},23131:function(e,t,r){"use strict";let n;r.d(t,{AuthProvider:function(){return v},e:function(){return p},a:function(){return b}});var o=r(27573),a=r(7653),s=r(5512),i=r(91204),l=r(39318),c=r(70261),u=r(98630),d=r(73131),m=r(34024),h=r(49370),f=r(75237),g=r(82329);let x=(0,a.createContext)({});function p(e){(0,c.destroyCookie)(e,d.LJ.Token,f.H),(0,c.destroyCookie)(e,d.LJ.RefreshToken,f.H),(0,c.destroyCookie)(e,d.LJ.LoginAs,f.H),(0,c.destroyCookie)(e,d.LJ.Token),(0,c.destroyCookie)(e,d.LJ.RefreshToken),(0,c.destroyCookie)(e,d.LJ.LoginAs)}let v=e=>{let{children:t,initialUser:v,initialJwtToken:b}=e,{isConnected:y,subscribeToChannel:w}=function(){let[e,t]=(0,a.useState)(!1),o=(0,a.useCallback)(async()=>{n=(await r.e(8463).then(r.t.bind(r,28463,23)))("".concat("wss","://").concat("skylab-api.rocketseat.com.br"),{reconnectionAttempts:15});let{[d.LJ.Token]:e}=(0,c.parseCookies)();e&&n.withApiToken(e),n.connect(),n.on("open",()=>{t(!0)}),n.on("close",e=>{"terminated"!==e._connectionState&&t(!1)})},[]),s=(0,a.useCallback)(async e=>{n||await o();let t=n.getSubscription(e);return t||(t=n.subscribe(e)),t},[o]);return{isConnected:e,connectToWebsocket:o,subscribeToChannel:s}}(),[j,k]=(0,a.useState)(null!=v?v:null),[N,T]=(0,a.useState)(!1),[E,_]=(0,a.useState)(b||null),C=(0,a.useRef)(!1),S=!!j,R=!!((null==j?void 0:j.createdAt)&&(0,i.Z)((0,l.Z)(new Date(j.createdAt)),new Date(2023,11,5,23,59,59))),P=(0,a.useCallback)(function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(p(),h.I.reset(),e){let e=window.location.pathname,t=new URLSearchParams(window.location.search);t.set("logout","true"),t.set("to",e);let r=t.toString();window.location.href="/?".concat(r)}},[]),A=(0,a.useCallback)(async()=>{let{[d.LJ.Token]:e,[d.LJ.RefreshToken]:t}=(0,c.parseCookies)();if(!e||!t){T(!1);return}m.h.defaults.headers.Authorization="Bearer ".concat(e),_(e);try{let e=await u.D.fetcher();if(!e){T(!1),P();return}k(e),T(!1)}catch(e){P()}},[P]),O=(0,a.useCallback)(async(e,t)=>{try{let{data:{token:r,refreshToken:n}}=await m.h.post("sessions",{email:e,password:t});(0,c.setCookie)(void 0,d.LJ.Token,r,f.H),(0,c.setCookie)(void 0,d.LJ.RefreshToken,n,f.H)}catch(e){throw(0,g.x)((null==e?void 0:e.response)||""),Error()}},[]),L=(0,a.useCallback)(async(e,t)=>{try{let{data:{token:r,refreshToken:n}}=await m.h.post("/v2/registration/verify",{code:t,email:e});(0,c.setCookie)(void 0,d.LJ.Token,r,f.H),(0,c.setCookie)(void 0,d.LJ.RefreshToken,n,f.H),T(!0),A()}catch(e){throw(0,g.x)((null==e?void 0:e.response)||""),Error()}},[A]),B=(0,a.useCallback)(async e=>{try{let{data:{token:t,refreshToken:r}}=await m.h.get("/v2/github/callback?code=".concat(e));(0,c.setCookie)(void 0,d.LJ.Token,t,f.H),(0,c.setCookie)(void 0,d.LJ.RefreshToken,r,f.H)}catch(e){throw(0,g.x)((null==e?void 0:e.response)||""),Error()}},[]);(0,a.useEffect)(()=>{j&&S&&!C.current&&((0,h.R)({userId:j.id,name:j.name,email:j.email}),C.current=!0)},[S,j]),(0,a.useEffect)(()=>{j&&y&&w("user:".concat(j.id)).then(e=>{e.on("logout",e=>{let{forced:t=!1}=e;t||s.toast.danger({title:"Sua conta foi acessada em outro navegador."}),P()})})},[j,y,w,P]);let D=(0,a.useMemo)(()=>({isAuthenticated:S,isRecoveringUserSession:N,isNewUser:R,user:j,setUser:k,signIn:O,signInVerify:L,signInGithub:B,signOut:P,jwtToken:E,recoverUserSession:A}),[S,N,R,j,O,L,B,P,E,A]);return(0,o.jsx)(x.Provider,{value:D,children:t})};function b(){return(0,a.useContext)(x)}},51710:function(e,t,r){"use strict";r.d(t,{EventAuthProvider:function(){return l},e:function(){return c}});var n=r(27573),o=r(7653),a=r(49370),s=r(23131);let i=(0,o.createContext)({}),l=e=>{let{children:t,initialUser:r,jwtToken:l}=e,[c,u]=(0,o.useState)(r||null),d=(0,o.useRef)(!1),m=!!c,h=(0,o.useCallback)(function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if((0,s.e)(),a.I.reset(),e){let e=window.location.pathname,t=new URLSearchParams(window.location.search);t.set("logout","true"),t.set("to",e);let r=t.toString();window.location.href="/?".concat(r)}},[]);(0,o.useEffect)(()=>{c&&m&&!d.current&&((0,a.R)({userId:c.id,name:c.name,email:c.email}),d.current=!0)},[m,c]);let f=(0,o.useMemo)(()=>({isAuthenticated:m,user:c,setUser:u,jwtToken:l,signOut:h}),[m,l,h,c]);return(0,n.jsx)(i.Provider,{value:f,children:t})};function c(){return(0,o.useContext)(i)}},34024:function(e,t,r){"use strict";r.d(t,{h:function(){return n}});let n=(0,r(45572).R)()},45572:function(e,t,r){"use strict";r.d(t,{R:function(){return m}});var n=r(3425),o=r.n(n),a=r(70261),s=r(73131),i=r(23131);let l=!1,c=[],u=new Date,d=new Date(u.setMonth(u.getMonth()+1));function m(e){let t=(0,a.parseCookies)(e),r=o().create({baseURL:"https://skylab-api.rocketseat.com.br",headers:{Authorization:"Bearer ".concat(t[s.LJ.Token])}});return r.interceptors.response.use(e=>e,n=>{var o,u,m,h,f;if((null===(o=n.response)||void 0===o?void 0:o.status)===401){if("object"==typeof(null===(u=n.response)||void 0===u?void 0:u.data)&&"error"in(null===(m=n.response)||void 0===m?void 0:m.data));else if(null===(f=n.response)||void 0===f?void 0:null===(h=f.data)||void 0===h?void 0:h.startsWith("E_JWT_TOKEN_EXPIRED")){let{skylab_next_refresh_token_v3:o}=t=(0,a.parseCookies)(e),u=n.config;return l||(l=!0,r.post("/sessions/refresh",{refreshToken:o}).then(t=>{let{token:n}=t.data,o={path:"/",secure:!0,expires:d};(0,a.setCookie)(e,s.LJ.Token,n,o),(0,a.setCookie)(e,s.LJ.RefreshToken,t.data.refreshToken,o),r.defaults.headers.Authorization="Bearer ".concat(n),c.forEach(e=>e.onSuccess(n)),c=[]}).catch(e=>{c.forEach(t=>t.onFailure(e)),c=[],(0,i.e)()}).finally(()=>{l=!1})),new Promise((e,t)=>{c.push({onSuccess:t=>{u.headers.Authorization="Bearer ".concat(t),e(r(u))},onFailure:e=>{t(e)}})})}else(0,i.e)()}return Promise.reject(n)}),r}},40395:function(e,t,r){"use strict";r.d(t,{h:function(){return o}});var n=r(3425);let o=r.n(n)().create({baseURL:"".concat("https://app.rocketseat.com.br","/api")})},75237:function(e,t,r){"use strict";r.d(t,{H:function(){return o}});let n=new Date,o={path:"/",expires:new Date(n.setMonth(n.getMonth()+1)),secure:!0,domain:"rocketseat.com.br",encode:e=>e}},64933:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var n=r(10607),o=r(54286);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,o.m)((0,n.W)(t))}},70682:function(e,t,r){"use strict";r.d(t,{u:function(){return n}});let n=e=>Array.from({length:e},(e,t)=>t+1)},82329:function(e,t,r){"use strict";r.d(t,{x:function(){return o}});var n=r(5512);let o=(e,t)=>{var r,o;let{data:a}=e;if(t&&"function"==typeof t){let r=t(e);if(r)return n.toast.danger({title:r})}if(Array.isArray(a)&&a.length)return a.forEach(e=>{e.message&&n.toast.danger({title:e.message})});let s=null!==(o=null==a?void 0:null===(r=a.error)||void 0===r?void 0:r.message)&&void 0!==o?o:"Erro interno do servidor";return n.toast.danger({title:s})}}},function(e){e.O(0,[8105,1112,2044,891,3794,5068,3950,6340,4556,9908,3383,4825,566,3753,6322,4187,3013,9290,5512,4394,1293,1528,1744],function(){return e(e.s=71322)}),_N_E=e.O()}]);