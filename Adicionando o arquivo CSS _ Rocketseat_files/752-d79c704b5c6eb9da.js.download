"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[752,9077],{98630:function(e,t,n){n.d(t,{D:function(){return u}});var o=n(5068),r=n(73131),a=n(1370),s=n(96187),i=n(2245);let l="GetAccount";async function c(e){let t=await (0,i.A)();if(t)return await (0,s._)("/account",{...e,next:{revalidate:1*r.kj.Day,tags:[a.c.ACCOUNT,"".concat(a.c.ACCOUNT,":").concat(t)]}})}let u=e=>(0,o.useQuery)({queryKey:[l],queryFn:()=>c(),...e});u.queryKey=l,u.getKey=()=>[l],u.fetcher=e=>c(e)},91460:function(e,t,n){n.d(t,{Actions:function(){return p}});var o=n(27573),r=n(7653),a=n(91309),s=n(83980),i=n(5512),l=n(88146),c=n(92288),u=n(48916);let d=e=>{let{isMobile:t}=(0,c.F)(),{journey:n}=(0,u.c)(),r=(null==n?void 0:n.contentType)==="COLLECTION"?"subjects":"contents";return(0,o.jsx)(l.default,{href:"/journey/".concat(n.slug,"/").concat(r),children:(0,o.jsx)(i.Button,{variant:"secondary",rightIcon:(0,o.jsx)(s.ArrowForwardIcon,{}),size:t?"md":"lg",...e,children:"Acessar ".concat("subjects"===r?"disciplinas":"conte\xfados")})})};var f=n(66455);let p=e=>{let{journey:t}=e,{currentTab:n}=(0,f.n)(),s=(0,r.useCallback)(e=>{switch(null==t?void 0:t.status){case"NOT_STARTED":return(0,o.jsx)(a.nh,{...e});case"IN_PROGRESS":case"FINISHED":case"DONE":return(0,o.jsx)(a.XA,{...e});case"EXPIRED":return(0,o.jsx)(a.Sv,{...e})}},[null==t?void 0:t.status]),i=(0,r.useCallback)(e=>{if((null==n?void 0:n.value)==="OVERVIEW")return(0,o.jsx)(d,{...e})},[null==n?void 0:n.value]);return(0,o.jsxs)("div",{className:"flex flex-col gap-4 self-stretch [&_button]:w-full [&>*:not(:first-child)]:border-t [&>*:not(:first-child)]:border-gray-800 [&>*:not(:first-child)]:pt-4",children:[(0,o.jsxs)("div",{className:"flex flex-col gap-3 self-stretch",children:[(0,o.jsx)(s,{}),(0,o.jsx)(i,{})]}),!!(null==t?void 0:t.isCertificable)&&(0,o.jsx)(a.Fe,{certificate:null==t?void 0:t.certificate})]})}},92908:function(e,t,n){n.d(t,{ProgressTooltip:function(){return s}});var o=n(27573),r=n(83980),a=n(5512);let s=()=>(0,o.jsxs)(a.Tooltip,{children:[(0,o.jsx)(a.Tooltip.Trigger,{asChild:!0,children:(0,o.jsx)(r.HelpCircleIcon,{variant:"solid",className:"text-gray-500 size-5"})}),(0,o.jsx)(a.Tooltip.Portal,{children:(0,o.jsxs)(a.Tooltip.Content,{className:"max-w-[296px] text-xs",children:[(0,o.jsx)(a.Tooltip.Arrow,{}),"S\xe3o contabilizados apenas os itens obrigat\xf3rios para emiss\xe3o do certificado final"]})})]})},90171:function(e,t,n){n.d(t,{Z:function(){return i}});var o=n(27573);n(7653);var r=n(64933),a=n(5512);let s=e=>{let{className:t,children:n,...r}=e;return(0,o.jsx)("h2",{className:(0,a.cn)("text-xs text-gray-300 font-bold",t),...r,children:n})};s.displayName="CardHeader";let i=e=>{let{className:t,children:n,...a}=e;return(0,o.jsx)("div",{className:(0,r.cn)("flex p-4 lg:px-6 lg:pt-5 lg:pb-6 flex-col justify-center gap-4 self-stretch rounded-md border border-gray-800",t),...a,children:n})};i.displayName="Card",i.Header=s,i.Header.displayName="Card.Header"},91309:function(e,t,n){n.d(t,{Fe:function(){return v},XA:function(){return x},Sv:function(){return A},nh:function(){return w}});var o=n(27573),r=n(7653),a=n(83980),s=n(5512),i=n(64825),l=n(86269),c=n(73131),u=n(23131),d=n(72301),f=n(92288),p=n(62353),g=n(48916),h=n(92236),m=n(45182);let k=(0,h.H)(),v=e=>{let{certificate:t,...n}=e,{isMobile:h}=(0,f.F)(),{journey:v,setCertificateCourseSlug:y}=(0,g.c)(),{user:b}=(0,u.a)(),[C,T]=(0,i._)(c.IN,[]),{canCertificateOnContentRotation:E}=(0,d.k)({slug:v.slug}),{mutateAsync:S,isPending:x}=(0,l.F)(),A=!!(null==b?void 0:b.trialAccess)&&!(null==v?void 0:v.isFree),w=k&&!E,R=(0,r.useCallback)(async()=>{let{slug:e,title:n,isEntryCourse:o,contentType:r}=v;try{(null==t?void 0:t.canIssue)&&(await S({journeySlug:e}),(null==t?void 0:t.issuedAt)||!o||T([...C,{slug:e,title:n,contentType:r,triggeredModalAt:null,certificateIssuedAt:new Date().toISOString()}])),y(e)}catch(e){s.toast.danger((0,m.Eo)(e))}},[v,null==t?void 0:t.canIssue,null==t?void 0:t.issuedAt,y,S,T,C]);if((null==t?void 0:t.canIssue)||(null==t?void 0:t.issuedAt))return(0,o.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,o.jsx)(s.Button,{disabled:A||w,leftIcon:(0,o.jsx)(a.RibbonIcon,{}),onClick:R,loading:x,size:h?"md":"lg",variant:"secondary",...n,children:(null==t?void 0:t.issuedAt)?"Ver certificado":"Emitir certificado"}),(w||A)&&(0,o.jsx)(p.Z,{type:w?"rotation":"trial",contentName:null==v?void 0:v.title,contentType:null==v?void 0:v.contentType})]})};var y=n(88146),b=n(5068),C=n(96187),T=n(33394);async function E(e,t){let n=await (0,C._)("/progress/journeys/".concat(e.journeyId),t);return(0,T.s)(n)}let S=(e,t)=>(0,b.useQuery)({queryKey:["GetUserJourneyProgress",e],queryFn:()=>E(e),...t});S.getKey=e=>["GetUserJourneyProgress",e],S.fetcher=(e,t)=>E(e,t);let x=e=>{var t;let{isMobile:n}=(0,f.F)(),{journey:i,track:l}=(0,g.c)(),{data:c}=S({journeyId:i.id}),u=(0,r.useMemo)(()=>{var e;let{nodeSlug:t,groupSlug:n,lessonSlug:o}=(null==c?void 0:null===(e=c.progress)||void 0===e?void 0:e.meta)||{};if(t&&n&&o)return"/classroom/".concat(t,"/group/").concat(n,"/lesson/").concat(o)},[null==c?void 0:null===(t=c.progress)||void 0===t?void 0:t.meta]),d=(0,r.useCallback)(()=>{l("[Journey] Keep watching click")},[l]);if(u)return(0,o.jsx)(y.default,{href:u,onClick:d,prefetch:!1,children:(0,o.jsx)(s.Button,{rightIcon:(0,o.jsx)(a.PlayIcon,{}),size:n?"md":"lg",...e,children:"Continuar assistindo"})})},A=e=>{let{isMobile:t}=(0,f.F)();return(0,o.jsx)("a",{href:"/cart/rocketseat-one",target:"_blank",rel:"noopener noreferrer",children:(0,o.jsx)(s.Button,{leftIcon:(0,o.jsx)(a.CartIcon,{}),size:"md",...e,children:"Renovar acesso"})})},w=e=>{let{journey:t}=(0,g.c)(),{isMobile:n}=(0,f.F)();if(null==t?void 0:t.firstModuleSlug)return(0,o.jsx)(y.default,{href:"/classroom/".concat(null==t?void 0:t.firstModuleSlug),children:(0,o.jsx)(s.Button,{rightIcon:(0,o.jsx)(a.PlayIcon,{}),size:n?"md":"lg",...e,children:"Iniciar"})})}},62353:function(e,t,n){n.d(t,{Z:function(){return l}});var o=n(27573),r=n(7653),a=n(77840),s=n(49288);let i="clicando aqui",l=e=>{let{contentName:t,contentType:n,type:l="trial"}=e,c=(0,r.useCallback)(()=>{s.H.track("[Certificate] Alert Certifica\xe7\xe3o",{ContentName:t,ContentType:n,ButtonLabel:i,Event:a.j.mixpanelEventProperty})},[t,n]);return(0,o.jsxs)("p",{className:"text-gray-200 text-sm",children:["Parab\xe9ns por ter conclu\xeddo todas as aulas! Para desbloquear seu certificado, finalize sua assinatura,"," ",(0,o.jsx)("a",{href:"trial"===l?"https://app.rocketseat.com.br/cart/rocketseat-one?utm_source=platform&utm_medium=organic&utm_campaign=venda&utm_term=conteudo_gratuito&utm_content=botao_plataform-checkout":a.j.offersUtms.certificateFeedback,target:"_blank",onClick:c,rel:"noopener noreferrer",className:"text-purpleseat-base font-bold",children:i}),"."]})}},65471:function(e,t,n){var o,r,a,s,i,l,c,u,d,f;n.d(t,{BR:function(){return o},Km:function(){return p},RD:function(){return r},_t:function(){return i},o:function(){return s}}),(l=o||(o={})).OVERVIEW="Vis\xe3o geral",l.CONTENTS="Conte\xfados",l.SUBJECTS="Disciplinas",(c=r||(r={})).NOT_STARTED="N\xe3o iniciado",c.IN_PROGRESS="Em progresso",c.APPROVED="Aprovado",c.IN_RECOVERY="Recupera\xe7\xe3o",c.REPROVED="Reprovado",(u=a||(a={})).lessons="Aulas",u.challenges="Testes",u.final_exam="Avalia\xe7\xe3o",(d=s||(s={})).MbaAlertOpen="@skylab:journey:mba-alert:open",d.PendingChallengesAlertDismissed="@skylab:journey:pending-challenges-alert:dismissed",(f=i||(i={})).StudentSpace="https://sirius.sistemasiga.net",f.Schedule="https://docs.google.com/spreadsheets/d/1jqyUoLx-wbM5emeKmirHHHKZ0oMxpzjSOmVDCv9DPt4/edit?usp=sharing";let p=70},48916:function(e,t,n){n.d(t,{JourneyProvider:function(){return l},c:function(){return c}});var o=n(27573),r=n(7653),a=n(73131),s=n(49288);let i=(0,r.createContext)({}),l=e=>{let{journey:t,children:n}=e,[l,c]=(0,r.useState)(""),u=(0,r.useCallback)((e,n,o)=>{let{defaultProperties:r={"Content name":t.title,"Content type":a.bT[t.contentType],"Content plan":t.isFree?"Free":"Paid"}}=o||{};s.H.track(e,{...r,...n})},[t.contentType,t.isFree,t.title]);return(0,o.jsx)(i.Provider,{value:{journey:t,track:u,certificateCourseSlug:l,setCertificateCourseSlug:c},children:n})};function c(){let e=(0,r.useContext)(i);if(!e)throw Error("useJourney must be used within an JourneyContext");return e}},66455:function(e,t,n){n.d(t,{n:function(){return a}});var o=n(81695),r=n(65471);let a=()=>{let e=(0,o.usePathname)();return(null==e?void 0:e.endsWith("overview"))?{currentTab:{value:"OVERVIEW",label:r.BR.OVERVIEW}}:(null==e?void 0:e.endsWith("contents"))?{currentTab:{value:"CONTENTS",label:r.BR.CONTENTS}}:(null==e?void 0:e.endsWith("subjects"))?{currentTab:{value:"SUBJECTS",label:r.BR.SUBJECTS}}:{}}},60125:function(e,t,n){n.d(t,{I:function(){return r}});var o=n(81695);let r=()=>{let e=(0,o.usePathname)();return{isMba:!!(null==e?void 0:e.includes("mba"))}}},393:function(e,t,n){n.d(t,{h:function(){return s}});var o=n(97210),r=n(70261),a=n(73131);async function s(){return{accessToken:(0,r.parseCookies)()[a.LJ.Token],refreshToken:(0,r.parseCookies)()[a.LJ.RefreshToken]}}n(40395),(0,o.Z)(new Date,1)},96187:function(e,t,n){n.d(t,{T:function(){return a},_:function(){return l}});var o=n(393);let r=async e=>{let t=new Headers(e.headers);if(e.body instanceof FormData||t.set("Content-Type","application/json"),!t.get("Authorization")&&!e.isPublic){let{accessToken:e}=await (0,o.h)();e&&t.set("Authorization","Bearer ".concat(e))}return{...e,headers:t}};class a extends Error{constructor(e,t,n){super(e),this.message=e,this.config=t,this.response=n,this.name="FetcherError",this.status=null==n?void 0:n.status,this.isFetcherError=!0}}let s=async e=>{let t=e.headers.get("Content-Type"),n=(null==t?void 0:t.includes("text/"))?"text":"json";return i(await e[n]())},i=e=>{var t;return"string"==typeof e?e:e.errors&&e.errors.length>0?e.errors[0]:Array.isArray(e)&&e.length>0?e[0]:e.error&&"string"==typeof e.error?e.error:null===(t=e.error)||void 0===t?void 0:t.message},l=async(e,t)=>{let{responseType:n="json",...o}=t||{},i=e.startsWith("http")?e:"".concat("https://skylab-api.rocketseat.com.br").concat(e),l=await r(o),c={};try{if(c=await fetch(i,l),204===c.status)return null;if(!c.ok){let e=await s(c);throw new a(e||"An unexpected error occurred")}return c[n]()}catch(e){return Promise.reject(new a(e instanceof Error?e.message:String(e),t,c))}}},2245:function(e,t,n){n.d(t,{A:function(){return a}});var o=n(30864),r=n(393);let a=async e=>{let t=e;if(!t){let{accessToken:e}=await (0,r.h)();t=e}let n=(0,o.decode)(t);return null==n?void 0:n.uid}},22452:function(e,t,n){n.d(t,{v:function(){return a}});var o=n(69033),r=n(78703);function a(){return o.Z.identifier===r.v.PLATFORM}},69033:function(e,t,n){n.d(t,{m:function(){return a}});let o="platform",r={platform:{identifier:"platform",name:"Plataforma Rocketseat",description:"Forma\xe7\xf5es, cursos e eventos",url:"https://app.rocketseat.com.br",communityUrl:"https://discord-service.rocketseat.dev",forumUrl:"/forums",support:{whatsAppUrl:"",email:"oi@rocketseat.com.br"},branding:{logo:{horizontal:{url:"/assets/logos/rocketseat-logo.svg",alt:"Rocketseat"},icon:{url:"/assets/logos/rocketseat-icon.svg",alt:"Rocketseat"}}},tour:{workspaceMenu:{imageUrl:"/assets/images/tours/workspace-menu/platform.gif"}},auth:{backgroundImageUrl:"/assets/images/backgrounds/auth.webp",hasSignUpPage:!0}},college:{identifier:"college",name:"Faculdade de Tecnologia",description:"P\xf3s gradua\xe7\xe3o",url:"https://ftr.rocketseat.com.br",communityUrl:"https://circle.so/",forumUrl:"/forums",support:{whatsAppUrl:"https://rseat.in/secretaria-ftr",email:"oi@rocketseat.com.br"},branding:{logo:{horizontal:{url:"/assets/logos/ftr-logo-horizontal.svg",alt:"Faculdade de Tecnologia Rocketseat"},icon:{url:"/assets/logos/ftr-logo-icon.svg",alt:"Faculdade de Tecnologia Rocketseat"}}},tour:{workspaceMenu:{imageUrl:"/assets/images/tours/workspace-menu/college.gif"}},auth:{backgroundImageUrl:"/assets/images/backgrounds/auth-college.webp",hasSignUpPage:!1}}};function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return r[e]}t.Z=a(o)},1370:function(e,t,n){var o,r;n.d(t,{c:function(){return o}}),(r=o||(o={})).ACCOUNT="account",r.ACCOUNT_EVENT="accountEvent",r.GET_EVENT_BY_SLUG="getEventBySlug",r.GET_RECOMMENDATIONS="getRecommendations",r.GET_STARTED_CONTENT="getStartedContent",r.ONBOARDING="onboarding",r.GET_STARTED_CONTENT_PROGRESS="getStartedContentProgress",r.GET_WEEK_GOAL="getHomeWeekGoal",r.GET_USER_GOAL="getUserGoal",r.GET_BANNERS="getBanners",r.GET_HAPPENING_AND_COMMING_EVENTS="getHappeningAndCommingEvents",r.GET_REWARDS="getRewards",r.GET_USER_POINTS="getUserPoints",r.GET_REDEEMS="getRedeems"},73131:function(e,t,n){var o,r,a,s,i,l,c,u,d,f,p,g,h,m,k,v,y,b;n.d(t,{BK:function(){return S},BU:function(){return r},Bq:function(){return T},F3:function(){return c},Fe:function(){return d},He:function(){return x},IN:function(){return E},J1:function(){return w},LJ:function(){return o},M2:function(){return u},VC:function(){return _},Xk:function(){return s},bT:function(){return l},ds:function(){return N},er:function(){return O},fJ:function(){return A},kj:function(){return a},p3:function(){return R},pV:function(){return C},rw:function(){return j},y8:function(){return i}}),(f=o||(o={})).Token="skylab_next_access_token_v4",f.RefreshToken="skylab_next_refresh_token_v4",f.EventsSeen="skylab-new-events-seen",f.LoginAs="skylab_login_as",(p=r||(r={})).sidebarOpened="@skylab:sidebarOpened",p.setStreakGoal="@skylab:setStreakGoal",p.newEventsSeen="@skylab:newEventsSeen",p.trialOnGoingNps="@skylab:trialOnGoingNps",p.trialFeedbackNps="@skylab:trialFeedbackNps",p.trialFinishingModal="@skylab:trialFinishingModal",p.trialConsumptionModal="@skylab:trialConsumptionModal",p.finalTrialModalOpened="@skylab:openedFinalTrialModal",p.insideSalesConsultancyReminder="@skylab:insideSalesConsultancyReminder",p.ftrCtaCatalogClicked="@skylab:ftrCtaCatalogClicked",p.personalNameAlert="@skylab:personalNameAlert",p.posOnboardingChecklistDismissed="@skylab:posOnboardingChecklistDismissed",p.posOnboardingChecklistOpen="@skylab:posOnboardingChecklistOpen",p.consumerMonthModalSeen="@skylab:consumerMonthModalSeen",p.consumerMonthTopbannerClosed="@skylab:consumerMonthTopbannerClosed",(g=a||(a={}))[g.Second=1]="Second",g[g.Minute=60]="Minute",g[g.Hour=3600]="Hour",g[g.Day=86400]="Day",(h=s||(s={}))[h.Second=1e3]="Second",h[h.Minute=6e4]="Minute",h[h.Hour=36e5]="Hour",h[h.Day=864e5]="Day",(m=i||(i={}))[m.Second=1]="Second",m[m.Minute=60]="Minute",m[m.Hour=3600]="Hour",m[m.Day=86400]="Day",(k=l||(l={})).SPECIALIZATION="Forma\xe7\xe3o",k.COURSE="Curso",k.EVENT="Evento",k.PLAYLIST="Playlist",k.EXTRA="Conte\xfado complementar",k.COLLECTION="Cole\xe7\xe3o",k.ROADMAP="Plano de estudo",(v=c||(c={})).Speed="@skylab:player:speed",v.Volume="@skylab:player:volume",v.Autoplay="@skylab:player:autoplay",(y=u||(u={})).Chatbot="rs-chatbot",y.MyJourney="guia-da-jornada";let C=["Conte\xfados novos todos os meses","Muitos projetos para o seu portf\xf3lio","F\xf3rum, suporte e acesso ao Houston (nossa IA)","Mentorias de carreira e Masterclass ao vivo","Diversos certificados de conclus\xe3o","Guia de estudos personalizado para atingir seus objetivos"],T=[{slug:"lari-avatar",image:"/assets/images/checkout/lari.png"},{slug:"yasmin-avatar",image:"/assets/images/checkout/yasmin.png"},{slug:"breno-avatar",image:"/assets/images/checkout/breno.png"}],E="@Skylab:entryCoursePosCertificationModal",S=new Date(2024,5,23,23,59,59),x=new Date(2024,5,19,19),A="do-zero-a-programacao",w="full-stack",R=["D","S","T","Q","Q","S","S"],N="https://rocketseat.com.br",_="https://app.rocketseat.com.br/cart/rocketseat-one",j={BOOST:"/assets/my-journey/icons/fire.svg",REST:"/assets/my-journey/icons/sleep.svg"},O="https://helpdesk.rocketseat.com.br/como-habilitar-o-recebimento-de-notifica%C3%A7%C3%B5es-push?hs_preview=QRqFunZj-180602287140";(b=d||(d={})).FCMToken="@Skylab/Notifications:fcmToken",b.FCMTokenExpirationDate="@Skylab/Notifications:fcmTokenExpirationDate",b.DismissedTriggerModal="@Skylab/Notifications:dismissedTriggerModal",b.DismissedInboxAlert="@Skylab/Notifications:dismissedInboxAlert",b.DismissedPreferencesAlert="@Skylab/Notifications:dismissedPreferencesAlert",b.OpenTriggerModalAction="@Skylab/Notifications:openTriggerModalAction"},78703:function(e,t,n){var o,r,a;n.d(t,{s:function(){return r},v:function(){return o}}),(a=o||(o={})).PLATFORM="platform",a.COLLEGE="college",(r||(r={})).TourCompleted="@skylab:workspace-menu:tour-completed"},49288:function(e,t,n){n.d(t,{H:function(){return s}});var o=n(59908),r=n(49370),a=n(22452);let s={track:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={Date:(0,o.Z)(new Date,"dd/MM/yyyy"),Hour:(0,o.Z)(new Date,"HH:mm"),app_name:(0,a.v)()?"skylab":"ftr"};r.I.track(e,{...t,...n})},pageView:e=>{r.I.track_pageview({page:e})}}},23131:function(e,t,n){let o;n.d(t,{AuthProvider:function(){return v},e:function(){return k},a:function(){return y}});var r=n(27573),a=n(7653),s=n(5512),i=n(91204),l=n(39318),c=n(70261),u=n(98630),d=n(73131),f=n(34024),p=n(49370),g=n(75237),h=n(82329);let m=(0,a.createContext)({});function k(e){(0,c.destroyCookie)(e,d.LJ.Token,g.H),(0,c.destroyCookie)(e,d.LJ.RefreshToken,g.H),(0,c.destroyCookie)(e,d.LJ.LoginAs,g.H),(0,c.destroyCookie)(e,d.LJ.Token),(0,c.destroyCookie)(e,d.LJ.RefreshToken),(0,c.destroyCookie)(e,d.LJ.LoginAs)}let v=e=>{let{children:t,initialUser:v,initialJwtToken:y}=e,{isConnected:b,subscribeToChannel:C}=function(){let[e,t]=(0,a.useState)(!1),r=(0,a.useCallback)(async()=>{o=(await n.e(8463).then(n.t.bind(n,28463,23)))("".concat("wss","://").concat("skylab-api.rocketseat.com.br"),{reconnectionAttempts:15});let{[d.LJ.Token]:e}=(0,c.parseCookies)();e&&o.withApiToken(e),o.connect(),o.on("open",()=>{t(!0)}),o.on("close",e=>{"terminated"!==e._connectionState&&t(!1)})},[]),s=(0,a.useCallback)(async e=>{o||await r();let t=o.getSubscription(e);return t||(t=o.subscribe(e)),t},[r]);return{isConnected:e,connectToWebsocket:r,subscribeToChannel:s}}(),[T,E]=(0,a.useState)(null!=v?v:null),[S,x]=(0,a.useState)(!1),[A,w]=(0,a.useState)(y||null),R=(0,a.useRef)(!1),N=!!T,_=!!((null==T?void 0:T.createdAt)&&(0,i.Z)((0,l.Z)(new Date(T.createdAt)),new Date(2023,11,5,23,59,59))),j=(0,a.useCallback)(function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(k(),p.I.reset(),e){let e=window.location.pathname,t=new URLSearchParams(window.location.search);t.set("logout","true"),t.set("to",e);let n=t.toString();window.location.href="/?".concat(n)}},[]),O=(0,a.useCallback)(async()=>{let{[d.LJ.Token]:e,[d.LJ.RefreshToken]:t}=(0,c.parseCookies)();if(!e||!t){x(!1);return}f.h.defaults.headers.Authorization="Bearer ".concat(e),w(e);try{let e=await u.D.fetcher();if(!e){x(!1),j();return}E(e),x(!1)}catch(e){j()}},[j]),M=(0,a.useCallback)(async(e,t)=>{try{let{data:{token:n,refreshToken:o}}=await f.h.post("sessions",{email:e,password:t});(0,c.setCookie)(void 0,d.LJ.Token,n,g.H),(0,c.setCookie)(void 0,d.LJ.RefreshToken,o,g.H)}catch(e){throw(0,h.x)((null==e?void 0:e.response)||""),Error()}},[]),I=(0,a.useCallback)(async(e,t)=>{try{let{data:{token:n,refreshToken:o}}=await f.h.post("/v2/registration/verify",{code:t,email:e});(0,c.setCookie)(void 0,d.LJ.Token,n,g.H),(0,c.setCookie)(void 0,d.LJ.RefreshToken,o,g.H),x(!0),O()}catch(e){throw(0,h.x)((null==e?void 0:e.response)||""),Error()}},[O]),D=(0,a.useCallback)(async e=>{try{let{data:{token:t,refreshToken:n}}=await f.h.get("/v2/github/callback?code=".concat(e));(0,c.setCookie)(void 0,d.LJ.Token,t,g.H),(0,c.setCookie)(void 0,d.LJ.RefreshToken,n,g.H)}catch(e){throw(0,h.x)((null==e?void 0:e.response)||""),Error()}},[]);(0,a.useEffect)(()=>{T&&N&&!R.current&&((0,p.R)({userId:T.id,name:T.name,email:T.email}),R.current=!0)},[N,T]),(0,a.useEffect)(()=>{T&&b&&C("user:".concat(T.id)).then(e=>{e.on("logout",e=>{let{forced:t=!1}=e;t||s.toast.danger({title:"Sua conta foi acessada em outro navegador."}),j()})})},[T,b,C,j]);let P=(0,a.useMemo)(()=>({isAuthenticated:N,isRecoveringUserSession:S,isNewUser:_,user:T,setUser:E,signIn:M,signInVerify:I,signInGithub:D,signOut:j,jwtToken:A,recoverUserSession:O}),[N,S,_,T,M,I,D,j,A,O]);return(0,r.jsx)(m.Provider,{value:P,children:t})};function y(){return(0,a.useContext)(m)}},34024:function(e,t,n){n.d(t,{h:function(){return o}});let o=(0,n(45572).R)()},45572:function(e,t,n){n.d(t,{R:function(){return f}});var o=n(3425),r=n.n(o),a=n(70261),s=n(73131),i=n(23131);let l=!1,c=[],u=new Date,d=new Date(u.setMonth(u.getMonth()+1));function f(e){let t=(0,a.parseCookies)(e),n=r().create({baseURL:"https://skylab-api.rocketseat.com.br",headers:{Authorization:"Bearer ".concat(t[s.LJ.Token])}});return n.interceptors.response.use(e=>e,o=>{var r,u,f,p,g;if((null===(r=o.response)||void 0===r?void 0:r.status)===401){if("object"==typeof(null===(u=o.response)||void 0===u?void 0:u.data)&&"error"in(null===(f=o.response)||void 0===f?void 0:f.data));else if(null===(g=o.response)||void 0===g?void 0:null===(p=g.data)||void 0===p?void 0:p.startsWith("E_JWT_TOKEN_EXPIRED")){let{skylab_next_refresh_token_v3:r}=t=(0,a.parseCookies)(e),u=o.config;return l||(l=!0,n.post("/sessions/refresh",{refreshToken:r}).then(t=>{let{token:o}=t.data,r={path:"/",secure:!0,expires:d};(0,a.setCookie)(e,s.LJ.Token,o,r),(0,a.setCookie)(e,s.LJ.RefreshToken,t.data.refreshToken,r),n.defaults.headers.Authorization="Bearer ".concat(o),c.forEach(e=>e.onSuccess(o)),c=[]}).catch(e=>{c.forEach(t=>t.onFailure(e)),c=[],(0,i.e)()}).finally(()=>{l=!1})),new Promise((e,t)=>{c.push({onSuccess:t=>{u.headers.Authorization="Bearer ".concat(t),e(n(u))},onFailure:e=>{t(e)}})})}else(0,i.e)()}return Promise.reject(o)}),n}},40395:function(e,t,n){n.d(t,{h:function(){return r}});var o=n(3425);let r=n.n(o)().create({baseURL:"".concat("https://app.rocketseat.com.br","/api")})},49370:function(e,t,n){n.d(t,{I:function(){return r.a},R:function(){return a}});var o=n(74621),r=n.n(o);function a(e){let{userId:t,name:n,email:o}=e;r().identify(t),r().people.set({$name:n,$email:o,client:"next"})}r().init("dcd1a0bcd016c8755ab3fd5ecb19a45e",{track_pageview:!0})},75237:function(e,t,n){n.d(t,{H:function(){return r}});let o=new Date,r={path:"/",expires:new Date(o.setMonth(o.getMonth()+1)),secure:!0,domain:"rocketseat.com.br",encode:e=>e}},82329:function(e,t,n){n.d(t,{x:function(){return r}});var o=n(5512);let r=(e,t)=>{var n,r;let{data:a}=e;if(t&&"function"==typeof t){let n=t(e);if(n)return o.toast.danger({title:n})}if(Array.isArray(a)&&a.length)return a.forEach(e=>{e.message&&o.toast.danger({title:e.message})});let s=null!==(r=null==a?void 0:null===(n=a.error)||void 0===n?void 0:n.message)&&void 0!==r?r:"Erro interno do servidor";return o.toast.danger({title:s})}}}]);